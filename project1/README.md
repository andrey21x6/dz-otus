# Проектная работа

### Для запуска стенда, обязательно нужен включенный VPN с заграничным IP-адресом !!!

### В Logstash в конфиг файле, в секции output в строке index, не появляются индексы в Elasticsearch, если значение написано с большой буквы (index => "backend1") !!!

## **Prerequisite**

### Host ###
- Ubuntu Desktop 20.04.5
- VirtualBox: 6.1.40
- Vagrant: 2.3.2

### Guest ###
- CentOS 8.3.2011
- Filebeat 8.6.1
- Nginx 1.14.1
- PHP 7.2.24
- MariaDB 10.3.2
- Elasticsearch 8.6.1
- Kibana 8.6.1
- Logstash 8.6.1

## **Содержание Проектной работы**

Веб проект с развертыванием нескольких виртуальных машин должен отвечать следующим требованиям:

- включен https

- основная инфраструктура в DMZ зоне

- файрвалл на входе

- сбор метрик и настроенный алертинг

- везде включен selinux

- организован централизованный сбор логов

- организован backup

## **Состав проекта:**

Всего виртуальных серверов 12

1. Nginx вебсервер frontend, настроен HTTPS, настроен iptables, разрешены входящие соединения по портам 22, 80, 443
Работает в режиме обратного прокси и балансировщика нагрузки, то есть, отправляет запросы на backend 1 и backend 2 по очереди

2. Nginx вебсервер + PHP-fpm backend 1 и Nginx вебсервер + PHP-fpm backend 2

**Правила iptables**

iptables.jpg



## **Выполнение проектной работы**



![Shema](https://github.com/andrey21x6/dz-otus/blob/main/project1/scrin/Shema.svg)

### ![#008000](https://placehold.co/15x15/008000/008000.png) ![#f03c15](https://placehold.co/15x15/f03c15/f03c15.png) ![#1589F0](https://placehold.co/15x15/1589F0/1589F0.png)
### Благодарю за проверку!
